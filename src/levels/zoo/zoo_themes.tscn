[gd_scene load_steps=21 format=3 uid="uid://eewys6kys7nx"]

[ext_resource type="PackedScene" uid="uid://divysbi8wuyxu" path="res://src/player/playerSpawn.tscn" id="1_c5t7q"]
[ext_resource type="PackedScene" uid="uid://bhhfjdk83iomh" path="res://src/npc/npc_goobie/npc_goobie.tscn" id="1_dtn8e"]
[ext_resource type="Script" uid="uid://br4d6ca1pp4y1" path="res://src/levels/zoo/zoo_theme_generator.gd" id="1_t771s"]
[ext_resource type="Script" uid="uid://boh47jks7ym2t" path="res://src/themes/theme_data.gd" id="2_novs6"]
[ext_resource type="PackedScene" uid="uid://d01t4e7ccablt" path="res://src/levels/zoo/theme_segment.tscn" id="3_au4le"]
[ext_resource type="Resource" uid="uid://bcer88akwyf1x" path="res://src/themes/tres/default.tres" id="3_q6mnd"]
[ext_resource type="Resource" uid="uid://bc2a4r8ndwmsu" path="res://src/themes/tres/sunny_grassland.tres" id="4_ecojg"]
[ext_resource type="Resource" uid="uid://d22w5f1taq2ae" path="res://src/themes/tres/sandy_dunes.tres" id="5_wa04n"]
[ext_resource type="Resource" uid="uid://b6ql7v7ymkkad" path="res://src/themes/tres/graveyard_night.tres" id="6_ecojg"]
[ext_resource type="Resource" uid="uid://xgyroxjh33lj" path="res://src/themes/tres/industrial_warehouse.tres" id="6_x0lmf"]
[ext_resource type="Script" uid="uid://bhtaxqrxfynai" path="res://src/components/sequencer/nodes/timing/node_wait.gd" id="10_0dwbn"]
[ext_resource type="Script" uid="uid://dxqygb52npank" path="res://src/components/sequencer/c_sequence_runner.gd" id="10_wa04n"]
[ext_resource type="Script" uid="uid://bmq0jiqy7ev2n" path="res://src/components/sequencer/nodes/action/node_interact.gd" id="11_jj5s0"]
[ext_resource type="Script" uid="uid://dvcrdslrjlfo8" path="res://src/components/sequencer/nodes/movement/node_jump.gd" id="12_0qd0n"]
[ext_resource type="Script" uid="uid://b5lxwxm3721vl" path="res://src/themes/day_night_controller.gd" id="15_5qfds"]
[ext_resource type="PackedScene" uid="uid://cfn43rut1y2rm" path="res://src/env/lighting/light_lamp_01.tscn" id="16_bvkjj"]
[ext_resource type="PackedScene" uid="uid://s7iommtvhr20" path="res://src/env/physics_button.tscn" id="18_5pbs8"]

[sub_resource type="Environment" id="Environment_bvkjj"]
background_mode = 3
tonemap_exposure = 0.25
glow_enabled = true
glow_strength = 1.25
glow_blend_mode = 1

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_0qd0n"]
polygon = PackedVector2Array(-2421, -73, -2384, -72, -2384, -323, -2344, -343, -2305, -359, -2287, -352, -2268, -336, -2248, -342, -2234, -365, -2264, -377, -2315, -407, -2379, -405, -2430, -388, -2474, -378, -2501, -385, -2521, -372, -2512, -354, -2473, -344, -2447, -314, -2458, -288, -2448, -235, -2429, -195, -2426, -157, -2424, -129)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_bvkjj"]
polygon = PackedVector2Array(-2448, -74, -2204, -74, -2174, -18, -2221, 22, -2262, 88, -2389, 94, -2424, 40, -2524, 92, -2563, 0, -2481, -25, -2521, -49)

[node name="ZooThemes" type="Node2D"]
script = ExtResource("1_t771s")
theme_order = Array[ExtResource("2_novs6")]([ExtResource("3_q6mnd"), ExtResource("4_ecojg"), ExtResource("5_wa04n"), ExtResource("6_ecojg"), ExtResource("6_x0lmf")])
segment_scene = ExtResource("3_au4le")
start_anchor_path = NodePath("ThemeStart")
crossfade = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bvkjj")

[node name="Goobie_Path_Sequence" type="Node2D" parent="."]
position = Vector2(-1548, -68)

[node name="WaitNode" type="Node2D" parent="Goobie_Path_Sequence"]
position = Vector2(1076, 78)
script = ExtResource("10_0dwbn")
wait_time = 2.0
move_speed = 500.0
metadata/_custom_type_script = "uid://bhtaxqrxfynai"

[node name="InteractNode" type="Node2D" parent="Goobie_Path_Sequence"]
position = Vector2(111, 69)
script = ExtResource("11_jj5s0")
animation_name = &"roll"
move_speed = 500.0
metadata/_custom_type_script = "uid://bmq0jiqy7ev2n"

[node name="JumpNode" type="Node2D" parent="Goobie_Path_Sequence"]
position = Vector2(-274, 67)
script = ExtResource("12_0qd0n")
landing_point_path = NodePath("LandPoint")
jump_height = 350.0
duration = 1.2
move_speed = 420.0
metadata/_custom_type_script = "uid://dvcrdslrjlfo8"

[node name="LandPoint" type="Marker2D" parent="Goobie_Path_Sequence/JumpNode"]
position = Vector2(-493, -68)

[node name="WaitNode2" type="Node2D" parent="Goobie_Path_Sequence"]
position = Vector2(-913, 31)
script = ExtResource("10_0dwbn")
wait_time = 5.0
metadata/_custom_type_script = "uid://bhtaxqrxfynai"

[node name="JumpNode2" type="Node2D" parent="Goobie_Path_Sequence"]
position = Vector2(-889, 5)
script = ExtResource("12_0qd0n")
landing_point_path = NodePath("LandPoint")
jump_height = 680.0
metadata/_custom_type_script = "uid://dvcrdslrjlfo8"

[node name="LandPoint" type="Marker2D" parent="Goobie_Path_Sequence/JumpNode2"]
position = Vector2(85, -325)

[node name="InteractNode2" type="Node2D" parent="Goobie_Path_Sequence"]
position = Vector2(-785, -325)
script = ExtResource("11_jj5s0")
animation_name = &"roll"
move_speed = 69.0
metadata/_custom_type_script = "uid://bmq0jiqy7ev2n"

[node name="JumpNode3" type="Node2D" parent="Goobie_Path_Sequence"]
position = Vector2(-780, -325)
script = ExtResource("12_0qd0n")
landing_point_path = NodePath("LandPoint")
jump_height = 769.0
metadata/_custom_type_script = "uid://dvcrdslrjlfo8"

[node name="LandPoint" type="Marker2D" parent="Goobie_Path_Sequence/JumpNode3"]
position = Vector2(1019, 402)

[node name="Goobie" parent="." instance=ExtResource("1_dtn8e")]
position = Vector2(-1602, 7)
scale = Vector2(-1, 1)

[node name="c_sequence_runner" type="Node" parent="Goobie"]
script = ExtResource("10_wa04n")
sequence_path = NodePath("../../Goobie_Path_Sequence")
loop = true

[node name="Lamp" parent="." instance=ExtResource("16_bvkjj")]
position = Vector2(-368, 16)

[node name="PhysicsButton" parent="." instance=ExtResource("18_5pbs8")]
position = Vector2(-817, 0)
trigger_margin_px = 3.0
min_press_depth_px = 6.0

[node name="Floor" type="StaticBody2D" parent="."]
position = Vector2(-2100, -572)

[node name="Polygon2D" type="Polygon2D" parent="Floor"]
polygon = PackedVector2Array(244, 572, 2100, 572, 2100, 592, 244, 592)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Floor"]
polygon = PackedVector2Array(244, 572, 2100, 572, 2100, 592, 244, 592)

[node name="PlayerSpawn" parent="." instance=ExtResource("1_c5t7q")]
position = Vector2(-1097, -141)

[node name="ThemeStart" type="Marker2D" parent="."]

[node name="DayNightController" type="Node" parent="."]
script = ExtResource("15_5qfds")
hours_per_minute = 4.0
metadata/_custom_type_script = "uid://b5lxwxm3721vl"

[node name="Sun2D" type="DirectionalLight2D" parent="."]
color = Color(0.990461, 0.983915, 0.782813, 1)
shadow_enabled = true

[node name="Moon2D" type="DirectionalLight2D" parent="."]
color = Color(0.724589, 0.766093, 0.978359, 1)

[node name="Platform" type="StaticBody2D" parent="."]
z_index = 10

[node name="ThingyOccluder" type="LightOccluder2D" parent="Platform"]
occluder = SubResource("OccluderPolygon2D_0qd0n")

[node name="ThingyCollision" type="CollisionPolygon2D" parent="Platform"]
polygon = PackedVector2Array(-2421, -73, -2384, -72, -2384, -323, -2344, -343, -2305, -359, -2287, -352, -2268, -336, -2248, -342, -2234, -365, -2264, -377, -2315, -407, -2379, -405, -2430, -388, -2474, -378, -2501, -385, -2521, -372, -2512, -354, -2473, -344, -2447, -314, -2458, -288, -2448, -235, -2429, -195, -2426, -157, -2424, -129)

[node name="Thingy" type="Polygon2D" parent="Platform"]
color = Color(0.481789, 0.481789, 0.481789, 1)
polygon = PackedVector2Array(-2421, -73, -2384, -72, -2384, -323, -2344, -343, -2305, -359, -2287, -352, -2268, -336, -2248, -342, -2234, -365, -2264, -377, -2315, -407, -2379, -405, -2430, -388, -2474, -378, -2501, -385, -2521, -372, -2512, -354, -2473, -344, -2447, -314, -2458, -288, -2448, -235, -2429, -195, -2426, -157, -2424, -129)

[node name="PlatformOccluder" type="LightOccluder2D" parent="Platform"]
occluder = SubResource("OccluderPolygon2D_bvkjj")

[node name="PlatformCollision" type="CollisionPolygon2D" parent="Platform"]
polygon = PackedVector2Array(-2448, -74, -2204, -74, -2174, -18, -2221, 22, -2262, 88, -2389, 94, -2424, 40, -2524, 92, -2563, 0, -2481, -25, -2521, -49)

[node name="Platform" type="Polygon2D" parent="Platform"]
color = Color(0.488218, 0.324642, 0.321017, 1)
polygon = PackedVector2Array(-2448, -74, -2204, -74, -2174, -18, -2221, 22, -2262, 88, -2389, 94, -2424, 40, -2524, 92, -2563, 0, -2481, -25, -2521, -49)
